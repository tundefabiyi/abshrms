<!-- /.info-box -->


<div>
  <div class="col-md-6">
    <!-- general form elements -->
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Jobholder Competency Appraisal</h3>
      </div>
      <!-- /.box-header -->
      <!-- form start -->
      <form role="form">
        <div class="box-body">

          <div class="form-group">
            <label>Competency Category</label>
            <select [(ngModel)]="selectedCompetencyType" name="competencytype" (ngModelChange)="onCompetencytypeSelected($event)" class="form-control select2 select2-hidden-accessible"
              style="width: 100%;" tabindex="-1" aria-hidden="true">
            <option *ngFor="let competencytypeitem of competencytypes" [ngValue]="competencytypeitem" >{{competencytypeitem.description}}</option>
           
          </select>
            <label>Competency Items</label>
            <select [(ngModel)]="selectedCompetencyItem" name="competencytype" (ngModelChange)="onCompetencyItemSelected($event)" class="form-control select2 select2-hidden-accessible"
              style="width: 100%;" tabindex="-1" aria-hidden="true">
          <option *ngFor="let competencyitem of defaultTemplate.lineitems" [ngValue]="competencyitem" >{{competencyitem.competencyitem}}</option>
          
          </select>
          </div>



          <div class="form-group">
            <label>Competency Rating</label>
            <select class="form-control" [(ngModel)]="myScaleRating" name="myScaleRating">
              <option value="2">2%</option>
              <option value="1.6">1.6%</option>
              <option value="1.2">1.2%</option>
              <option value="0.8">0.8%</option>
              <option value="0.4">0.4%</option>
            </select>
          </div>


          <!-- /.box -->



          <div class="box-footer">
            <button class="btn btn-app" (click)="save()" style="background-color:dodgerblue;color:white;">
                             <i class="fa fa-save"></i> Save
            </button>
          </div>

        </div>
        <!-- /.box-body -->


      </form>
    </div>

  </div>


  <div class="col-md-6">
    <!-- Horizontal Form -->



    <div class="box box-info">

      <!-- /.box-header -->
      <!-- form start -->


      <div class="info-box bg-blue">
        <span class="info-box-icon"><i class="fa fa-calendar"></i></span>

        <div class="info-box-content">
          <span class="info-box-text">Appraisal Period</span>
          <span class="info-box-text">8th Jan - 8th April</span>


          <span class="progress-description">
                               1st Quater Appraisal
                              </span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->








      <div class="form-group">

        <div class="col-md-3">

          <!-- /.box -->
        </div>
      </div>






      <!-- /.box -->
      <!-- general form elements disabled -->

      <!-- /.box -->
    </div>



  </div>


</div>
<div class="row">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-header">
        <h3 class="box-title">{{selectedCompetencyType.description || 'Appraisals'}}</h3>

        <div class="box-tools">
          <div class="input-group input-group-sm" style="width: 150px;">
            <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">

            <div class="input-group-btn">
              <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
            </div>
          </div>
        </div>
      </div>
      <!-- /.box-header -->
      <div class="box-body table-responsive padding">
        <table class="table table-hover">
          <div *ngFor="let item of appraisaldetails">
            <tr>
              <th>Competency</th>
              <th>{{getCompetencyItem(item.competencymeasurementtemplatelineitemid).competencyitem}}</th>
              <th>Competency Level</th>
              <th>{{getCompetencyItem(item.competencymeasurementtemplatelineitemid).proficiencylevel}}</th>
              <th>Job Holders Rating</th>
              <th>Supervisors Rating</th>


            </tr>
            <tr style="background-color:lightgray">

              <td>Competency Description</td>

              <td>
                <ul *ngIf="item">
                  <li *ngFor="let detail of getCompetencyItem(item.competencymeasurementtemplatelineitemid).competencyitemdetails">{{detail.description}}</li>

                </ul>
              </td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
              <td>{{item.jobholdercompetencyratingscaleid}}%</td>
              <td></td>
            </tr>
          </div>

        </table>

        <div class="row">
          <div class="col-md-4 col-md-offset-8">
            <button type="submit" (click)="saveAll()" class="btn btn-info pull-right fa-save" *ngIf="appraisaldetails.length > 0">Save Appraisals</button>
          </div>
        </div>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>
</div>