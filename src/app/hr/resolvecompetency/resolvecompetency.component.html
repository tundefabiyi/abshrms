<!-- /.info-box -->


<div>
  <div class="col-md-6">
    <!-- general form elements -->
    <div class="box box-primary">
      <div class="box-header with-border">
        <h3 class="box-title">Jobholder Competency Appraisal</h3>
      </div>
      <!-- /.box-header -->
      <!-- form start -->
      <form role="form" #f="ngForm">
        <div class="box-body">

          <div class="form-group">
            <label>Competency Category</label>
            <select [(ngModel)]="selectedCompetencyType" name="competencytype" (ngModelChange)="onCompetencytypeSelected($event)" class="form-control select2 select2-hidden-accessible"
              style="width: 100%;" tabindex="-1" aria-hidden="true">
              <option *ngFor="let competencytypeitem of competencytypes" [ngValue]="competencytypeitem">{{competencytypeitem.description}}</option>

            </select>
            <label>Competency Items</label>
            <select [(ngModel)]="selectedCompetencyItem" name="competencytype" (ngModelChange)="onCompetencyItemSelected($event)" class="form-control select2 select2-hidden-accessible"
              style="width: 100%;" tabindex="-1" aria-hidden="true" required>
              <option *ngFor="let competencyitem of defaultTemplate?.lineitems" [ngValue]="competencyitem">{{competencyitem.competencyitem}}</option>

            </select>
          </div>



          <div class="form-group">
            <label>Competency Rating</label>
            <select class="form-control" [(ngModel)]="myScaleRating" name="myScaleRating" required>
              <option value="{{item.rating}}" *ngFor="let item of defaultTemplate?.competencyratingscale">{{item.description}}</option>

            </select>
          </div>


          <!-- /.box -->



          <div class="box-footer">
            <button [disabled]="!f.valid" class="btn btn-app" (click)="save()" style="background-color:dodgerblue;color:white;">
              <i class="fa fa-save"></i> Save
            </button>

          </div>

          {{name}}

        </div>
        <!-- /.box-body -->


      </form>
    </div>

  </div>


  <div class="col-md-6">
    <!-- Horizontal Form -->



    <div class="box box-info">

      <!-- /.box-header -->
      <!-- form start -->


      <div class="info-box bg-blue">
        <span class="info-box-icon">
          <i class="fa fa-calendar"></i>
        </span>

        <div class="info-box-content">
          <span class="info-box-text">Appraisal Period</span>
          <span class="info-box-text">{{defaultTemplate?.appraisalperiod}}</span>


          <span class="progress-description">
            {{defaultTemplate?.apprailsalperioddescription}}
          </span>
        </div>
        <!-- /.info-box-content -->
      </div>
      <!-- /.info-box -->


      <div class="form-group">

        <div class="col-md-3">

          <!-- /.box -->
        </div>
      </div>

      <!-- /.box -->
      <!-- general form elements disabled -->

      <!-- /.box -->
    </div>



  </div>


</div>
<div class="row">
  <div class="col-xs-12">
    <div class="box">
      <div class="box-header">
        <h3 class="box-title">{{defaultTemplate?.appraisalheader || 'Appraisals'}}</h3>

        <div class="box-tools">
          <div class="input-group input-group-sm" style="width: 150px;">
            <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">

            <div class="input-group-btn">
              <button type="submit" class="btn btn-default">
                <i class="fa fa-search"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- /.box-header -->
      <div class="box-body table-responsive padding">
        <table class="table table-hover" *ngFor="let item of defaultTemplate?.lineitems">
          <tr>
            <th>Competency</th>
            <th>{{item.competencyitem}}</th>
            <th>Competency Level</th>
            <th>{{item.proficiencylevel}}</th>
            <th>Job Holders Rating</th>
            <th>Supervisors Rating</th>


          </tr>
          <tr style="background-color:lightgray">

            <td>Competency Description</td>

            <td>
              <ul *ngIf="item">
                <li *ngFor="let detail of item.competencyitemdetails">{{detail.description}}</li>

              </ul>
            </td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>{{item.jobholderrating.description}} ({{item.jobholderrating.rating}}%)</td>
            <td>{{item.supervisorrating.description}} ({{item.jobholderrating.rating}}%)</td>
          </tr>
        </table>
        <!-- <table class="table table-hover">
          <div *ngFor="let item of defaultTemplate?.lineitems">
            <tr>
              <th>Competency</th>
              <th>{{item.competencyitem}}</th>
              <th>Competency Level</th>
              <th>{{item.proficiencylevel}}</th>
              <th>Job Holders Rating</th>
              <th>Supervisors Rating</th>


            </tr>
            <tr style="background-color:lightgray">

              <td>Competency Description</td>

              <td>
                <ul *ngIf="item">
                  <li *ngFor="let detail of item.competencyitemdetails">{{detail.description}}</li>

                </ul>
              </td>
              <td>&nbsp;</td>
              <td>&nbsp;</td>
              <td>{{item.jobholderrating.description}} ({{item.jobholderrating.rating}}%)</td>
              <td>{{item.supervisorrating.description}} ({{item.jobholderrating.rating}}%)</td>
            </tr>
          </div>

        </table> -->

        <div class="row">
          <div class="col-md-4 col-md-offset-8">
            <button type="submit" (click)="saveAll()" class="btn btn-info pull-right fa-save" *ngIf="appraisaldetails.length > 0">Save Appraisals</button>
          </div>
        </div>
      </div>
      <!-- /.box-body -->
    </div>
    <!-- /.box -->
  </div>
</div>